-- Miranda Hub - Botón TP a base por username y apodo
-- unnrrgggdddd / snkkddddd

local plr = game.Players.LocalPlayer
local username = plr.Name -- "unnrrgggdddd"
local nickname = "snkkddddd" -- Poner aquí tu apodo manualmente

-- Crear GUI flotante
local gui = Instance.new("ScreenGui")
gui.Name = "MirandaHubTpBase"
gui.Parent = game.CoreGui

local btn = Instance.new("TextButton")
btn.Parent = gui
btn.Size = UDim2.new(0,180,0,42)
btn.Position = UDim2.new(0.5,-90,0.15,0)
btn.BackgroundColor3 = Color3.fromRGB(30,30,30)
btn.Text = "Teletransportar a mi base"
btn.TextColor3 = Color3.fromRGB(255,255,255)
btn.Font = Enum.Font.GothamBold
btn.TextSize = 17
btn.BorderSizePixel = 0
btn.Active = true
btn.Draggable = true

btn.MouseButton1Click:Connect(function()
    local base = nil
    -- Busca por username
    if workspace:FindFirstChild("Bases") and workspace.Bases:FindFirstChild(username) then
        base = workspace.Bases[username]
    elseif workspace:FindFirstChild(username) then
        base = workspace[username]
    end
    -- Si no la encuentra, busca por apodo
    if not base then
        if workspace:FindFirstChild("Bases") and workspace.Bases:FindFirstChild(nickname) then
            base = workspace.Bases[nickname]
        elseif workspace:FindFirstChild(nickname) then
            base = workspace[nickname]
        end
    end

    local destino = nil
    if base and base:FindFirstChild("BasePart") then
        destino = base.BasePart
    elseif base and base:FindFirstChildWhichIsA("Part") then
        destino = base:FindFirstChildWhichIsA("Part")
    end

    if destino then
        plr.Character.HumanoidRootPart.CFrame = destino.CFrame + Vector3.new(0,5,0)
        game.StarterGui:SetCore("SendNotification", {
            Title = "Miranda Hub",
            Text = "¡Teletransportado a tu base " .. base.Name .. "!",
            Duration = 3
        })
    else
        game.StarterGui:SetCore("SendNotification", {
            Title = "Miranda Hub",
            Text = "No se encontró tu base (" .. username .. " / " .. nickname .. ").",
            Duration = 3
        })
    end
end)
